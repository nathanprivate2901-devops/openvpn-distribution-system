# ==================================
# OpenVPN Distribution System
# Environment Configuration Template
# ==================================
#
# INSTRUCTIONS:
# 1. Copy this file to .env: cp .env.example .env
# 2. Update all values with your actual configuration
# 3. NEVER commit .env to version control
#

# ==================================
# Server Configuration
# ==================================
NODE_ENV=development
PORT=3000
FRONTEND_PORT=3002

# ==================================
# Database Configuration
# ==================================
DB_HOST=localhost
DB_PORT=3306
DB_NAME=openvpn_system
DB_USER=root
DB_PASSWORD=your-mysql-password
DB_ROOT_PASSWORD=your_secure_root_password_here
DB_CONNECTION_LIMIT=10

# ==================================
# JWT Authentication
# ==================================
# SECURITY: Generate a strong random secret for production
# Example: openssl rand -base64 64
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production
JWT_EXPIRES_IN=24h

# ==================================
# OpenVPN Configuration
# ==================================
OPENVPN_SERVER=vpn.example.com
OPENVPN_PORT=1194
OPENVPN_PROTOCOL=udp
OPENVPN_CA_CERT_PATH=/etc/openvpn/ca.crt
OPENVPN_CONTAINER_NAME=openvpn-server

# ==================================
# User Sync Scheduler Configuration
# ==================================
# Interval in minutes for automatic user synchronization (1-60)
# Default: 15 minutes
SYNC_INTERVAL_MINUTES=15

# ==================================
# SMTP Email Configuration
# ==================================
# For Gmail: smtp.gmail.com (port 587, enable "App Passwords" if using 2FA)
# For Mailgun: smtp.mailgun.org (port 587)
# For SendGrid: smtp.sendgrid.net (port 587)
# For AWS SES: email-smtp.us-east-1.amazonaws.com (port 587)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=your-email@gmail.com
SMTP_PASSWORD=your-app-password
SMTP_FROM=noreply@example.com
SMTP_FROM_NAME=OpenVPN System
SMTP_FROM_EMAIL=noreply@example.com
SMTP_REJECT_UNAUTHORIZED=true

# ==================================
# Application Configuration
# ==================================
APP_NAME=OpenVPN Distribution System
APP_URL=http://localhost:3000
BASE_URL=http://localhost:3000

# ==================================
# Security & Rate Limiting
# ==================================
# Rate limit window in milliseconds (default: 15 minutes)
RATE_LIMIT_WINDOW_MS=900000
# Maximum requests per window per IP
RATE_LIMIT_MAX_REQUESTS=100

# ==================================
# CORS Configuration
# ==================================
# Comma-separated list of allowed origins
# Use * for development only, specify exact origins in production
CORS_ORIGIN=http://localhost:3000,http://localhost:3001,http://localhost:3002
CORS_ORIGINS=http://localhost:3000,http://localhost:3001,http://localhost:3002

# ==================================
# Email Verification
# ==================================
VERIFICATION_TOKEN_EXPIRES_HOURS=24

# ==================================
# Admin Configuration
# ==================================
# Default admin credentials (CHANGE IMMEDIATELY after first login!)
DEFAULT_ADMIN_EMAIL=admin@example.com
DEFAULT_ADMIN_PASSWORD=admin123

# ==================================
# Docker Configuration
# ==================================
# Docker socket path (Linux/Mac: /var/run/docker.sock, Windows: //./pipe/docker_engine)
DOCKER_SOCKET_PATH=/var/run/docker.sock
COMPOSE_PROJECT_NAME=openvpn-system

# ==================================
# Logging Configuration
# ==================================
LOG_LEVEL=info
LOG_FILE_PATH=./logs
LOG_FILE_MAX_SIZE=10m
LOG_FILE_MAX_FILES=7d

# ==================================
# Frontend/Backend URLs
# ==================================
FRONTEND_URL=http://localhost:3002
BACKEND_URL=http://localhost:3000

# ==================================
# Remote Database Sync Configuration
# ==================================
# Remote MySQL database for synchronization (optional)
# Leave empty to disable remote sync
REMOTE_DB_HOST=
REMOTE_DB_PORT=3306
REMOTE_DB_NAME=
REMOTE_DB_USER=
REMOTE_DB_PASSWORD=
# Sync interval in minutes (default: 30)
DB_SYNC_INTERVAL_MINUTES=30
# Enable automatic sync on startup
DB_SYNC_ON_STARTUP=false
